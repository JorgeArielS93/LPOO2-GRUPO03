<Window x:Class="Vistas.GrillaCursos"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:ClaseBase="clr-namespace:ClaseBase;assembly=ClaseBase"
        Title="Lista de Cursos" Height="600" Width="1000"
        WindowStartupLocation="CenterScreen" Loaded="Window_Loaded">
    
    <Window.Resources>
        <ObjectDataProvider 
            ObjectType="{x:Type ClaseBase:TrabajarCursos}" 
            MethodName="TraerCursos" 
            x:Key="list_cursos"/>
    </Window.Resources>
    
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="80"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="60"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <Border Grid.Row="0" Background="#2c3e50" Margin="0,0,0,10">
            <StackPanel VerticalAlignment="Center">
                <TextBlock Text="LISTA DE CURSOS" 
                           FontSize="18" FontWeight="Bold" 
                           Foreground="White" HorizontalAlignment="Center"/>
                <TextBlock Text="Sistema de Gestión de Cursos" 
                           FontSize="12" 
                           Foreground="#bdc3c7" HorizontalAlignment="Center"/>
            </StackPanel>
        </Border>

        <!-- Data Grid -->
        <Border Grid.Row="1" Background="White" 
                CornerRadius="10" Margin="20,0,20,10"
                BorderBrush="#bdc3c7" BorderThickness="1">
            <Grid Margin="15">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>

                <!-- Toolbar -->
                <StackPanel Grid.Row="0" Orientation="Horizontal" Margin="0,0,0,10">
                    <Button Name="btnActualizar" Content="Actualizar" 
                            Width="100" Height="30" 
                            Background="#3498db" Foreground="White" 
                            BorderBrush="#2980b9" Click="btnActualizar_Click"/>
                    <Button Name="btnCerrar" Content="Cerrar" 
                            Width="80" Height="30" Margin="10,0,0,0"
                            Background="#e74c3c" Foreground="White" 
                            BorderBrush="#c0392b" Click="btnCerrar_Click"/>
                </StackPanel>

                <!-- DataGrid -->
                <DataGrid Grid.Row="1" Name="dgCursos" 
                          ItemsSource="{Binding Source={StaticResource list_cursos}}"
                          AutoGenerateColumns="False"
                          IsReadOnly="True"
                          GridLinesVisibility="Horizontal"
                          HeadersVisibility="Column"
                          AlternatingRowBackground="#f8f9fa"
                          RowBackground="White"
                          BorderBrush="#dee2e6"
                          BorderThickness="1"
                          ColumnWidth="*"
                          CanUserResizeColumns="True"
                          CanUserReorderColumns="False"
                          SelectionMode="Single">

                    <DataGrid.Columns>
                        <!-- ID del Curso -->
                        <DataGridTextColumn Header="Código" 
                                          Binding="{Binding Cur_ID}" 
                                          Width="80" 
                                          MinWidth="60">
                            <DataGridTextColumn.ElementStyle>
                                <Style TargetType="TextBlock">
                                    <Setter Property="HorizontalAlignment" Value="Center"/>
                                    <Setter Property="FontWeight" Value="Bold"/>
                                    <Setter Property="Foreground" Value="#2c3e50"/>
                                </Style>
                            </DataGridTextColumn.ElementStyle>
                        </DataGridTextColumn>

                        <!-- Nombre del Curso -->
                        <DataGridTextColumn Header="Nombre del Curso" 
                                          Binding="{Binding Cur_Nombre}" 
                                          Width="200" 
                                          MinWidth="150">
                            <DataGridTextColumn.ElementStyle>
                                <Style TargetType="TextBlock">
                                    <Setter Property="Padding" Value="8,0"/>
                                    <Setter Property="FontWeight" Value="SemiBold"/>
                                    <Setter Property="Foreground" Value="#2c3e50"/>
                                </Style>
                            </DataGridTextColumn.ElementStyle>
                        </DataGridTextColumn>

                        <!-- Descripción -->
                        <DataGridTextColumn Header="Descripción" 
                                          Binding="{Binding Cur_Descripcion}" 
                                          Width="280" 
                                          MinWidth="200">
                            <DataGridTextColumn.ElementStyle>
                                <Style TargetType="TextBlock">
                                    <Setter Property="Padding" Value="8,0"/>
                                    <Setter Property="TextWrapping" Value="Wrap"/>
                                    <Setter Property="Foreground" Value="#555"/>
                                </Style>
                            </DataGridTextColumn.ElementStyle>
                        </DataGridTextColumn>

                        <!-- Cupo -->
                        <DataGridTextColumn Header="Cupo" 
                                          Binding="{Binding Cur_Cupo}" 
                                          Width="70" 
                                          MinWidth="60">
                            <DataGridTextColumn.ElementStyle>
                                <Style TargetType="TextBlock">
                                    <Setter Property="HorizontalAlignment" Value="Center"/>
                                    <Setter Property="FontWeight" Value="Bold"/>
                                    <Setter Property="Foreground" Value="#e74c3c"/>
                                </Style>
                            </DataGridTextColumn.ElementStyle>
                        </DataGridTextColumn>

                        <!-- Fecha Inicio -->
                        <DataGridTextColumn Header="Fecha Inicio" 
                                          Binding="{Binding Cur_FechaInicio, StringFormat={}{0:dd/MM/yyyy}}" 
                                          Width="100" 
                                          MinWidth="90">
                            <DataGridTextColumn.ElementStyle>
                                <Style TargetType="TextBlock">
                                    <Setter Property="HorizontalAlignment" Value="Center"/>
                                    <Setter Property="Foreground" Value="#27ae60"/>
                                </Style>
                            </DataGridTextColumn.ElementStyle>
                        </DataGridTextColumn>

                        <!-- Fecha Fin -->
                        <DataGridTextColumn Header="Fecha Fin" 
                                          Binding="{Binding Cur_FechaFin, StringFormat={}{0:dd/MM/yyyy}}" 
                                          Width="100" 
                                          MinWidth="90">
                            <DataGridTextColumn.ElementStyle>
                                <Style TargetType="TextBlock">
                                    <Setter Property="HorizontalAlignment" Value="Center"/>
                                    <Setter Property="Foreground" Value="#e67e22"/>
                                </Style>
                            </DataGridTextColumn.ElementStyle>
                        </DataGridTextColumn>

                        <!-- Estado -->
                        <DataGridTextColumn Header="Estado" 
                                          Binding="{Binding Est_ID}" 
                                          Width="80" 
                                          MinWidth="70">
                            <DataGridTextColumn.ElementStyle>
                                <Style TargetType="TextBlock">
                                    <Setter Property="HorizontalAlignment" Value="Center"/>
                                    <Setter Property="FontWeight" Value="Bold"/>
                                    <Setter Property="Foreground" Value="#3498db"/>
                                </Style>
                            </DataGridTextColumn.ElementStyle>
                        </DataGridTextColumn>

                        <!-- Docente -->
                        <DataGridTextColumn Header="Docente" 
                                          Binding="{Binding Doc_ID}" 
                                          Width="80" 
                                          MinWidth="70">
                            <DataGridTextColumn.ElementStyle>
                                <Style TargetType="TextBlock">
                                    <Setter Property="HorizontalAlignment" Value="Center"/>
                                    <Setter Property="FontWeight" Value="Bold"/>
                                    <Setter Property="Foreground" Value="#9b59b6"/>
                                </Style>
                            </DataGridTextColumn.ElementStyle>
                        </DataGridTextColumn>
                    </DataGrid.Columns>

                    <DataGrid.ColumnHeaderStyle>
                        <Style TargetType="DataGridColumnHeader">
                            <Setter Property="Background" Value="#34495e"/>
                            <Setter Property="Foreground" Value="White"/>
                            <Setter Property="FontWeight" Value="Bold"/>
                            <Setter Property="Height" Value="40"/>
                            <Setter Property="HorizontalContentAlignment" Value="Center"/>
                            <Setter Property="VerticalContentAlignment" Value="Center"/>
                            <Setter Property="Padding" Value="8,5"/>
                            <Setter Property="BorderBrush" Value="#2c3e50"/>
                            <Setter Property="BorderThickness" Value="0,0,1,1"/>
                        </Style>
                    </DataGrid.ColumnHeaderStyle>

                    <DataGrid.RowStyle>
                        <Style TargetType="DataGridRow">
                            <Setter Property="Height" Value="45"/>
                            <Setter Property="BorderBrush" Value="#ecf0f1"/>
                            <Setter Property="BorderThickness" Value="0,0,0,1"/>
                            <Style.Triggers>
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter Property="Background" Value="#ecf0f1"/>
                                </Trigger>
                                <Trigger Property="IsSelected" Value="True">
                                    <Setter Property="Background" Value="#d5dbdb"/>
                                    <Setter Property="Foreground" Value="#2c3e50"/>
                                </Trigger>
                            </Style.Triggers>
                        </Style>
                    </DataGrid.RowStyle>

                    <DataGrid.CellStyle>
                        <Style TargetType="DataGridCell">
                            <Setter Property="BorderThickness" Value="0"/>
                            <Setter Property="Padding" Value="4"/>
                            <Style.Triggers>
                                <Trigger Property="IsSelected" Value="True">
                                    <Setter Property="Background" Value="Transparent"/>
                                    <Setter Property="Foreground" Value="{Binding RelativeSource={RelativeSource AncestorType=DataGridRow}, Path=Foreground}"/>
                                </Trigger>
                            </Style.Triggers>
                        </Style>
                    </DataGrid.CellStyle>
                </DataGrid>
            </Grid>
        </Border>

        <!-- Footer -->
        <StackPanel Grid.Row="2" Orientation="Horizontal" 
                    HorizontalAlignment="Center" VerticalAlignment="Center">
            <TextBlock Name="lblTotalCursos" Text="Total de cursos: 0" 
                       FontSize="12" Foreground="#7f8c8d" Margin="0,0,20,0"/>
            <TextBlock Text="© 2025 - LPOO II - Grupo 03" 
                       FontSize="10" Foreground="#7f8c8d"/>
        </StackPanel>
    </Grid>
</Window>